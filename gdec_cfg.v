
module gdec_cfg(/*AUTOARG*/
   // Outputs
   gdataout, gcout, 
   // Inputs
   gdatain
   );

/****************************************************** PARAMETERS ************************************************************/

 // synopsys template
 parameter WIDTH = 16;          

/******************************************************** INPUTS **************************************************************/

 input [WIDTH-1:0] gdatain;    // Input source to the decrementor

/******************************************************** OUTPUTS *************************************************************/

 output [WIDTH-1:0] gdataout;  // Decrementor output result
 output  	    gcout;     // Carry out 

/*************************************************** WIRE DECLARATIONS ********************************************************/

 wire [WIDTH-1:0]     gtmp;    // Serial 0's detector      

/*************************************************** END OF DECLARATIONS ******************************************************/

// ****************************************************************************************************************************
// Configurable decremntor logic
// ****************************************************************************************************************************
 
// ******************************************************************************************
// The gtmp bus is a serial 0's detector for example:
// 
// | Input source value | gtemp value |
// +--------------------+-------------+
// | 111000             | 111000      |
// +--------------------+-------------+
// | 111100             | 111100      |
// +--------------------+-------------+
// | 111110             | 111110      |
// +--------------------+-------------+
// | 111001             | 111111      |
// +--------------------+-------------+
// | 000101             | 111111      |
// +--------------------+-------------+
// | 000111             | 111111      |
// +--------------------+-------------+
// 
// ******************************************************************************************

// ******************************************************************
// Serial 0's detector logic
// ******************************************************************

// Initial the lsb bit
 assign gtmp[0] = gdatain[0];
   
// Serial 0's detector   
 assign gtmp[WIDTH-1:1] = gtmp [WIDTH-2:0] | gdatain[WIDTH-1:1] ;
   
// ******************************************************************
// Decrementor output results.
// The output result is determined according to the Serial 0's 
// detector (gtemp) and the input source.
// ******************************************************************

// Initial the lsb bit of the output result
 assign gdataout[0] = ~gdatain[0] ;

// Decrementor sum result according to the Serial 0's detector (gtemp)
// and the input source
 assign gdataout[WIDTH-1:1] = ~(gtmp [WIDTH-2:0] ^ gdatain[WIDTH-1:1]) ;

 // Carry out 
 assign gcout = ~(gtmp[WIDTH-1] ^ 1'b0);
   
endmodule







